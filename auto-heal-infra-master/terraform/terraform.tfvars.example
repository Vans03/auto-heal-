# Auto-Heal Infrastructure Terraform Variables
# 
# This file demonstrates the available variables for configuring the deployment.
# Copy this to terraform.tfvars and update values for your environment.

# ============================================================================
# BASIC CONFIGURATION
# ============================================================================

aws_region = "us-east-1"
environment = "dev"
project_name = "auto-heal-infra"

# ============================================================================
# VPC CONFIGURATION
# ============================================================================

vpc_cidr = "10.0.0.0/16"
public_subnet_cidrs = ["10.0.101.0/24", "10.0.102.0/24"]
private_subnet_cidrs = ["10.0.1.0/24", "10.0.2.0/24"]

# ============================================================================
# TARGET EC2 INSTANCES
# ============================================================================

instance_type = "t3.medium"
target_instance_count = 2
root_volume_size = 30
root_volume_type = "gp3"

# ============================================================================
# MONITORING EC2 INSTANCES
# ============================================================================

monitoring_instance_type = "t3.medium"
monitoring_volume_size = 50

# ============================================================================
# AMI CONFIGURATION
# ============================================================================

# Amazon Linux 2 AMI filter
ami_name_filter = "amzn2-ami-hvm-*-x86_64-gp3"
ami_owner = "amazon"

# ============================================================================
# CLOUDWATCH ALARM THRESHOLDS
# ============================================================================

# CPU utilization threshold (%)
alarm_threshold_cpu = 80

# Memory utilization threshold (%)
alarm_threshold_memory = 85

# Disk utilization threshold (%)
alarm_threshold_disk = 90

# Number of evaluation periods before triggering alarm
alarm_evaluation_periods = 2

# Period for alarm evaluation (seconds)
# Valid values: 60, 300, 900, 3600
alarm_period_seconds = 300

# ============================================================================
# LAMBDA CONFIGURATION
# ============================================================================

lambda_runtime = "python3.11"
lambda_timeout = 60
lambda_memory_size = 256
lambda_log_retention_days = 30

# ============================================================================
# SNS CONFIGURATION
# ============================================================================

sns_topic_name = "auto-heal-alerts"
enable_sns_fifo = false

# ============================================================================
# NAGIOS CONFIGURATION
# ============================================================================

# ⚠️  CHANGE THESE IN PRODUCTION
nagios_password = "nagios"
nagios_contact_email = "admin@example.com"

# ============================================================================
# GRAFANA CONFIGURATION
# ============================================================================

# ⚠️  CHANGE THESE IN PRODUCTION
grafana_admin_password = "admin"

# ============================================================================
# COMMON TAGS
# ============================================================================

common_tags = {
  Owner       = "DevOps Team"
  CostCenter  = "Infrastructure"
  Compliance  = "Auto-Heal"
  Environment = "dev"
}

# ============================================================================
# FEATURE FLAGS
# ============================================================================

enable_cloudwatch_dashboard = true
enable_detailed_monitoring = true
enable_logging = true
enable_multi_region = false

# Additional regions for multi-region scanning (if enabled)
additional_regions = ["us-west-2", "eu-west-1"]

# ============================================================================
# KEY PAIR CONFIGURATION
# ============================================================================

key_pair_name = "auto-heal-key"

# ============================================================================
# AUTO-HEALING CONFIGURATION
# ============================================================================

auto_healing_enabled = true
healing_action_timeout = 300
max_healing_attempts = 3

# ============================================================================
# ENVIRONMENT-SPECIFIC CONFIGURATIONS
# ============================================================================

# For Production:
# 
# aws_region = "us-east-1"
# environment = "prod"
# target_instance_count = 5
# alarm_threshold_cpu = 70
# alarm_threshold_memory = 80
# alarm_threshold_disk = 85
# lambda_memory_size = 512
# enable_detailed_monitoring = true
# enable_multi_region = true
# 
# For Staging:
#
# aws_region = "us-west-2"
# environment = "staging"
# target_instance_count = 3
# monitoring_instance_type = "t3.small"
# lambda_memory_size = 256
#
# For Development:
#
# (See current configuration above)
